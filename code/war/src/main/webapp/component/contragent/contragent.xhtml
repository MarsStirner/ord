<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://java.sun.com/jsf/html"
        >

<ui:composition template="/jsf-template/referenceBookItemTemplate.xhtml">
    <ui:define name="running_head">
        <h:outputStylesheet library="css" name="datatable.css"/>
    </ui:define>
    <ui:define name="headerEditButton">
        <div class="defbutton">
            <h:commandLink action="#{contragent.edit}" rendered="#{contragent.viewState}">
                <h:graphicImage value="#{resource['images:edit_buttn.png']}"/>
                <f:ajax execute="@form" render="@form" />
                Редактировать
            </h:commandLink>
        </div>
    </ui:define>
    <ui:define name="headerSaveButton">
        <div class="defbutton">
            <h:commandLink action="#{contragent.save}" rendered="#{contragent.editState or contragent.createState}">
                <h:graphicImage value="#{resource['images:save_buttn.png']}"/>
                <f:ajax execute="@form" render="@form" />
                Сохранить
            </h:commandLink>
        </div>
    </ui:define>
    <ui:define name="headerCancelButton">
        <div class="defbutton">
            <h:commandLink action="#{contragent.cancel}" rendered="#{contragent.editState or contragent.createState}">
                <h:graphicImage value="#{resource['images:button-cancel.png']}"/>
                <f:ajax execute="@form" render="@form" />
                Отменить
            </h:commandLink>
        </div>
    </ui:define>
    <ui:define name="headerDeleteButton">
        <div class="defbutton">
            <h:commandLink action="#{contragent.delete()}" rendered="#{isAdministrator or isOfficeManager or isRequestManager}">
                <h:graphicImage value="#{resource['images:dell_buttn.png']}"/>
                Удалить
                <f:param name="docAction" value="delete"/>
            </h:commandLink>
        </div>
    </ui:define>
    <ui:define name="contentReferenceBookName">Справочник Контрагентов</ui:define>

    <ui:define name="contentItemName">
        <h:panelGroup rendered="#{contragent.createState}">
            <div class="name">Новый контрагент</div>
        </h:panelGroup>
        <h:panelGroup rendered="#{contragent.editState or contragent.viewState}">
            <div class="name">
                <h:outputText value="#{contragent.document.shortName}"/>
            </div>
        </h:panelGroup>
        <h:panelGroup rendered="#{contragent.errorState}">
            <div class="name">Ошибка</div>
        </h:panelGroup>
    </ui:define>

    <ui:define name="contentItemInfo">
        <h:panelGroup rendered="#{contragent.viewState}">
            <div class="row">
                <table class="form_grid">
                    <tr class="row">
                        <td class="first">
                            <label>
                                <span class="title">Краткое	наименование:</span>
                            </label>
                        </td>
                        <td>
                            <h:outputText value="#{contragent.document.shortName}"/>
                        </td>
                    </tr>
                    <tr class="row">
                        <td class="first">
                            <label>
                                <span class="title">Полное наименование:</span>
                            </label>
                        </td>
                        <td>
                            <h:outputText value="#{contragent.document.value}"/>
                        </td>
                    </tr>
                    <tr>
                        <td class="first">
                            <label>
                                <span class="title">Тип контрагента:</span>
                            </label>
                        </td>
                        <td>
                            <h:outputText value="#{contragent.document.type.value}"/>
                        </td>
                    </tr>
                </table>
            </div>
        </h:panelGroup>
        <h:panelGroup rendered="#{contragent.createState or contragent.editState}">
            <div class="row">
                <table class="form_grid">
                    <tr class="row">
                        <td class="first">
                            <label>
                                <span class="title">Краткое	наименование:</span>
                            </label>
                        </td>
                        <td>
                            <label>
                                <h:inputText style="width:90%" value="#{contragent.document.shortName}"/>
                            </label>
                        </td>
                    </tr>
                    <tr class="row">
                        <td class="first">
                            <label>
                                <span class="title">Полное наименование:</span>
                            </label>
                        </td>
                        <td>
                            <label>
                                <h:inputText style="width:90%" value="#{contragent.document.value}"/>
                            </label>
                        </td>
                    </tr>
                    <tr class="row">
                        <td class="first">
                            <label>
                                <span class="title">Тип контрагента</span>
                            </label>
                        </td>
                        <td>
                            <p:selectOneMenu id="contragentTypeSelectOneMenu" value="#{contragent.document.type}"
                                             converter="ContragentTypeConverter">
                                <f:selectItems value="#{dictionaryManagement.contragentTypes}" var="contragentType_row"
                                               itemLabel="#{contragentType_row.value}"/>
                            </p:selectOneMenu>
                        </td>
                    </tr>
                </table>
            </div>
        </h:panelGroup>
    </ui:define>


</ui:composition>

</html>