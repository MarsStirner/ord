<ui:component xmlns="http://www.w3.org/1999/xhtml"
              xmlns:ui="http://java.sun.com/jsf/facelets"
              xmlns:cc="http://java.sun.com/jsf/composite"
              xmlns:p="http://primefaces.org/ui"
              xmlns:f="http://xmlns.jcp.org/jsf/core"
              xmlns:h="http://java.sun.com/jsf/html">

    <cc:interface>
        <cc:attribute name="id"/>
        <cc:attribute name="value"/>
    </cc:interface>

    <cc:implementation>
        <p:dataTable id="#{cc.attrs.id}" value="#{cc.attrs.value}" var="history_entry" style="width:100%;" emptyMessage="У документа нет записей в истории">
            <p:column headerText="Дата" styleClass="outputText">
                <h:outputText value="#{history_entry.startDate}">
                    <f:converter  converterId="LocalDateTimeConverter"/>
                    <f:attribute name="pattern" value="dd.MM.yyyy HH:mm:ss"/>
                </h:outputText>
            </p:column>
            <p:column headerText="Статус" styleClass="outputText">
                <h:outputText value="#{history_entry.fromStatusName}"/>
            </p:column>
            <p:column headerText="Действие" styleClass="outputText">
                <h:outputText value="#{history_entry.actionName}"/>
            </p:column>
            <p:column headerText="Автор" styleClass="outputText">
                <h:outputText value="#{history_entry.owner.descriptionShort}"/>
            </p:column>
            <p:column headerText="Комментарий" styleClass="outputText">
                <h:outputText value="#{history_entry.commentary}"/>
            </p:column>
        </p:dataTable>
    </cc:implementation>

</ui:component>
